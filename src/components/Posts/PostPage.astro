---
import Carousel from "../Carousel/Carousel.astro";
const params = Astro.props;
---

<div class="">
  <div class="title">{params.title}</div>
  {
    //тернарный оператор если в новости одно изображение, то показывается изображение, а не слайдер
    params?.images?.length < 1 ? (
      <div class="">
        <img
          alt="some"
          src={`${import.meta.env.PUBLIC_URL}` + params.preview_image.url}
          class="object-cover"
        />
        
      </div>
      
    ) : (
      <section>
        <div id="indicators-carousel" class="" data-carousel="static">
          <div class="">
            {params?.images?.map((item) => {
              return (
                <div class="" data-carousel-item="active">
                  <img
                    src={import.meta.env.PUBLIC_URL + item.url}
                    class="img_post"
                    alt="..."
                  />
                </div>
              );
            })}
          </div>
          <div class="">
            {params?.images?.map((item) => {
              return (
                <button
                  type="button"
                  class="w-3 h-3 rounded-full"
                  aria-current="true"
                  aria-label="Slide 1"
                  data-carousel-slide-to="0"
                />
              );
            })}
          </div>
        </div>
      </section>
    )
  }
  <div class="" set:html={params.body} />

  <div class="btn__news">
    <button class="button dark:bg-gray-500">
      <a class="btn" href="post">Назад к новостям</a>
    </button>
  </div>
</div>

<style>
  .img_post {
    margin-left: auto;
    margin-right: auto;
    width: 60%;
    height: 40%;
    margin-top: 10px;
  }
  .title {
    font-size: 25px;
    font-weight: bold;
    width: 100%;
    padding-top: 2em;
    padding-bottom: 2em;
  }
  .btn__news {
    padding-top: 1em;
    padding-bottom: 1em;
  }
  .btn {
    font-size: 10px;
  }
</style>
